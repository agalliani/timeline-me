(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,44708,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(18566),s=e.i(83112);class l{widthMonth;min;start;end;constructor(e,t,a,r){this.min=t,this.start=a,this.end=r,this.widthMonth=e}formatMonth(e){return e>=10?e:"0"+e}getStartOffset(){return this.widthMonth/12*(12*(this.start.date.getFullYear()-this.min)+this.start.date.getMonth())}getFullYears(){return(this.end&&this.end.date.getFullYear()||this.start.date.getFullYear())-this.start.date.getFullYear()}getMonths(){let e=this.getFullYears(),t=0;return this.end?this.end.hasMonth?(t+=this.end.date.getMonth()+1,t+=12-(this.start.hasMonth?this.start.date.getMonth():0),t+=12*(e-1)):(t+=12-(this.start.hasMonth?this.start.date.getMonth():0),t+=12*(e-1>0?e-1:0)):t+=this.start.hasMonth?1:12,t}getWidth(){return this.widthMonth/12*this.getMonths()}getDateLabel(){return[(this.start.hasMonth?this.formatMonth(this.start.date.getMonth()+1)+"/":"")+this.start.date.getFullYear(),this.end?"-"+(this.end.hasMonth?this.formatMonth(this.end.date.getMonth()+1)+"/":"")+this.end.date.getFullYear():""].join("")}}class n{data;year;widthMonth=59;constructor(e,t,a){this.data=[],this.year={min:e,max:t},this.parse(a||[])}parse(e){for(let t=0,a=e.length;t<a;t++){let a=e[t],r=this.parseDate(a.start),s=a.end?this.parseDate(a.end):null;r.date.getFullYear()<this.year.min&&(this.year.min=r.date.getFullYear()),s&&s.date.getFullYear()>this.year.max?this.year.max=s.date.getFullYear():r.date.getFullYear()>this.year.max&&(this.year.max=r.date.getFullYear()),this.data.push({start:r,end:s,label:a.label,type:a.category,description:a.description})}}parseDate(e){let t={date:new Date,hasMonth:!1};if(!1===e.includes("/"))t.date=new Date(parseInt(e,10),0,1),t.hasMonth=!1;else{let a=e.split("/");parseInt(a[0],10);let r=parseInt(a[0],10);t.date=new Date(parseInt(a[1],10),r,-1,1),t.hasMonth=!0}return t}getYears(){let e=[];for(let t=this.year.min;t<=this.year.max+2;t++)e.push(t);return e}getBubbles(e){return this.getGridBubbles().map(e=>({...e,marginLeft:0,width:0}))}getGridBubbles(){let e=[];for(let t=0,a=this.data.length;t<a;t++){let a=this.data[t],r=a.start.date.getMonth(),s=12*(a.start.date.getFullYear()-this.year.min)+r+1,n=0,i=(a.end&&a.end.date.getFullYear()||a.start.date.getFullYear())-a.start.date.getFullYear();a.end?a.end.hasMonth?n=12*a.end.date.getFullYear()+a.end.date.getMonth()-(12*a.start.date.getFullYear()+a.start.date.getMonth())+1:i>0?n+=12-(a.start.hasMonth?a.start.date.getMonth():0)+12*(i-1):n+=12-a.start.date.getMonth():n=a.start.hasMonth?1:12,n<1&&(n=1);let d=new l(0,this.year.min,a.start,a.end);e.push({marginLeft:0,width:0,gridColumnStart:s,gridColumnSpan:n,class:"bubble bubble-"+(a.type||"default"),type:a.type,description:a.description,duration:a.end?Math.round((a.end.date.getTime()-a.start.date.getTime())/1e3/60/60/24/39).toString():"",dateLabel:d.getDateLabel(),label:a.label})}return e}getTotalMonths(){return(this.year.max-this.year.min+3)*12}}var i=e.i(75157),d=e.i(46798),o=e.i(87486),h=e.i(92930),c=e.i(46932);let u=(0,a.forwardRef)(({data:e,minYear:r=2020,maxYear:s=2026,className:l,colorMap:u={},onEdit:m,readonly:g=!1},b)=>{let{bubbles:p,years:x,totalMonths:f,minYear:y}=(0,a.useMemo)(()=>{if(e.length>0){let t=e.map(e=>parseInt(e.start.split(/[-/]/)[0])),a=e.map(e=>e.end?parseInt(e.end.split(/[-/]/)[0]):new Date().getFullYear());r=Math.min(...t),s=Math.max(...a)+1}let t=new n(r,s,e);return{bubbles:t.getGridBubbles(),years:t.getYears(),totalMonths:t.getTotalMonths(),minYear:t.year.min}},[e,r,s]);return e&&0!==e.length?(0,t.jsx)(d.TooltipProvider,{delayDuration:0,children:(0,t.jsx)("div",{ref:b,className:"w-full overflow-x-auto rounded-xl p-6 custom-scrollbar",children:(0,t.jsxs)("div",{className:"grid gap-y-3 relative min-w-max",style:{gridTemplateColumns:`repeat(${f}, minmax(40px, 1fr))`,gridAutoFlow:"row dense"},children:[x.map((e,a)=>{let r=(e-y)*12+1;return(0,t.jsx)("div",{className:"border-l border-zinc-200 pl-2 pb-4 sticky top-0 z-10 pointer-events-none",style:{gridColumnStart:r,gridColumnEnd:"span 12",gridRow:"1 / -1"},children:(0,t.jsx)("span",{className:"text-zinc-400 text-xs font-bold font-mono bg-white px-1 rounded",children:e})},e)}),(0,t.jsx)("div",{className:"h-6 w-full col-span-full"}),p.map((e,a)=>{let r=(e=>{switch(u[e]||"slate"){case"red":return{strip:"bg-red-500",badge:"text-red-700 border-red-200 bg-red-50"};case"blue":return{strip:"bg-blue-500",badge:"text-blue-700 border-blue-200 bg-blue-50"};case"green":return{strip:"bg-emerald-500",badge:"text-emerald-700 border-emerald-200 bg-emerald-50"};case"amber":return{strip:"bg-amber-500",badge:"text-amber-700 border-amber-200 bg-amber-50"};case"purple":return{strip:"bg-purple-500",badge:"text-purple-700 border-purple-200 bg-purple-50"};case"cyan":return{strip:"bg-cyan-500",badge:"text-cyan-700 border-cyan-200 bg-cyan-50"};case"rose":return{strip:"bg-rose-500",badge:"text-rose-700 border-rose-200 bg-rose-50"};default:return{strip:"bg-slate-500",badge:"text-slate-700 border-slate-200 bg-slate-50"}}})(e.type||"Work");return(0,t.jsxs)(d.Tooltip,{children:[(0,t.jsx)(d.TooltipTrigger,{asChild:!0,children:(0,t.jsxs)(c.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.05*a},onClick:()=>!g&&m?.(a),className:(0,i.cn)("relative group rounded border-l-2 flex flex-col justify-center px-2 py-1 transition-all hover:scale-[1.01] hover:brightness-110 hover:z-20 cursor-pointer h-14 shadow-sm",(e=>{switch(u[e]||"slate"){case"red":return"bg-red-50/50 border-red-500 text-red-900 hover:bg-red-100/50";case"blue":return"bg-blue-50/50 border-blue-500 text-blue-900 hover:bg-blue-100/50";case"green":return"bg-emerald-50/50 border-emerald-500 text-emerald-900 hover:bg-emerald-100/50";case"amber":return"bg-amber-50/50 border-amber-500 text-amber-900 hover:bg-amber-100/50";case"purple":return"bg-purple-50/50 border-purple-500 text-purple-900 hover:bg-purple-100/50";case"cyan":return"bg-cyan-50/50 border-cyan-500 text-cyan-900 hover:bg-cyan-100/50";case"rose":return"bg-rose-50/50 border-rose-500 text-rose-900 hover:bg-rose-100/50";default:return"bg-slate-50/50 border-slate-500 text-slate-900 hover:bg-slate-100/50"}})(e.type||"")),style:{gridColumnStart:e.gridColumnStart,gridColumnEnd:`span ${e.gridColumnSpan}`},children:[(0,t.jsx)("div",{className:"text-[10px] text-zinc-500 uppercase tracking-wider font-mono leading-none mb-1",children:e.dateLabel}),(0,t.jsx)("div",{className:"text-xs md:text-sm font-semibold text-zinc-900 truncate leading-tight",children:e.label})]})}),(0,t.jsx)(d.TooltipContent,{side:"bottom",align:"start",className:"bg-transparent border-none p-0 shadow-none z-50",children:(0,t.jsxs)("div",{className:"w-72 rounded-lg border border-zinc-200 bg-white shadow-xl overflow-hidden relative",children:[(0,t.jsx)("div",{className:(0,i.cn)("w-1 h-full absolute left-0 top-0",r.strip)}),(0,t.jsxs)("div",{className:"p-4 pl-5",children:[(0,t.jsx)("h4",{className:"font-bold text-zinc-900 text-base leading-snug",children:e.label}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-2 mb-3",children:[(0,t.jsx)(o.Badge,{variant:"outline",className:(0,i.cn)("text-[10px] bg-transparent",r.badge),children:e.type}),(0,t.jsx)("span",{className:"text-[10px] font-mono text-zinc-500",children:e.dateLabel})]}),e.description&&(0,t.jsx)("div",{className:"text-xs text-zinc-600 leading-relaxed max-h-40 overflow-y-auto pr-1",children:e.description}),!g&&(0,t.jsxs)("div",{className:"mt-4 pt-2 border-t border-zinc-100 text-[10px] text-zinc-400 flex items-center gap-1.5 uppercase tracking-wider font-medium",children:[(0,t.jsx)(h.Edit2,{className:"w-3 h-3"})," Edit Event"]})]})]})})]},a)})]})})}):(0,t.jsx)("div",{className:"flex flex-col items-center justify-center p-12 border border-dashed border-white/10 rounded-xl bg-white/5",children:(0,t.jsx)("p",{className:"text-muted-foreground",children:"Timeline is empty."})})});u.displayName="TimelineDisplay";var m=e.i(2502);function g({className:e,...a}){return(0,t.jsx)("div",{className:(0,i.cn)("animate-pulse rounded-md bg-muted",e),...a})}function b(){return(0,t.jsxs)("div",{className:"w-full max-w-3xl mx-auto space-y-8 py-8",children:[(0,t.jsxs)("div",{className:"space-y-4 text-center mb-12",children:[(0,t.jsx)(g,{className:"h-8 w-3/4 mx-auto"}),(0,t.jsx)(g,{className:"h-4 w-1/2 mx-auto"})]}),[1,2,3].map(e=>(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsx)("div",{className:"w-4 h-4 rounded-full bg-primary/20"}),(0,t.jsx)("div",{className:"w-0.5 h-full bg-border flex-1 my-2"})]}),(0,t.jsxs)("div",{className:"flex-1 space-y-3 pb-8",children:[(0,t.jsx)(g,{className:"h-6 w-1/3"}),(0,t.jsx)(g,{className:"h-20 w-full"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(g,{className:"h-6 w-16 rounded-full"}),(0,t.jsx)(g,{className:"h-6 w-16 rounded-full"})]})]})]},e))]})}function p(){let e=(0,r.useSearchParams)(),[l,n]=(0,a.useState)([]),[i,d]=(0,a.useState)({}),[o,h]=(0,a.useState)("vertical"),[c,g]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{let t=e.get("data");if("horizontal"===e.get("view")&&h("horizontal"),t){let e=(0,m.decodeTimelineData)(t);e&&(n(e.data),d(e.colorMap))}g(!1)},[e]),c)?(0,t.jsx)(b,{}):0===l.length?(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen p-4 text-muted-foreground text-sm",children:"No timeline data found."}):(0,t.jsx)("div",{className:"min-h-screen bg-transparent p-4",children:"vertical"===o?(0,t.jsx)(s.TimelineVertical,{data:l,colorMap:i,readonly:!0}):(0,t.jsx)(u,{data:l,colorMap:i,readonly:!0})})}function x(){return(0,t.jsx)(a.Suspense,{fallback:(0,t.jsx)(b,{}),children:(0,t.jsx)(p,{})})}e.s(["default",()=>x],44708)}]);